<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2025 ì§„ê³µë¬˜ìœ  ë³´ì€ ê²°ì‚°ê¸°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .ilwon-circle { border: 4px solid #333; border-radius: 50%; width: 120px; height: 120px; display: flex; align-items: center; justify-content: center; margin: 0 auto; }
        .bg-won { background-color: #f8f9fa; }
    </style>
</head>
<body class="bg-won p-4 sm:p-8">
    <div class="max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden p-6 border border-gray-200">
        <div class="text-center mb-6">
            <div class="ilwon-circle mb-2"><span class="text-xs font-bold text-gray-400">ä¸€åœ“ç›¸</span></div>
            <h1 class="text-2xl font-bold text-gray-800">2025 ë³´ì€ ê²°ì‚°ê¸°</h1>
            <p class="text-sm text-gray-500">ì§„ê³µë¬˜ìœ ì˜ ì§€í˜œë¡œ ì˜ìƒì„ ê²°ì‚°í•©ë‹ˆë‹¤</p>
        </div>

        <div class="mb-6 p-4 bg-gray-50 rounded-lg">
            <label class="block text-sm font-bold text-gray-700 mb-1">ì—°ê°„ ì´ í˜œìˆ˜ (ì…ì€ ì€í˜œ)</label>
            <input type="number" id="totalHyesu" value="100000000" class="w-full p-2 border rounded text-right font-mono" onchange="calculate()">
            <p class="text-xs text-gray-400 mt-1">* ê³¼í•™ì  ì‚°ì¶œ ê¸°ì¤€: ì—°ê°„ 1ì–µ ì›</p>
        </div>

        <div id="sections">
            </div>

        <div class="mt-8 p-6 bg-blue-50 rounded-xl border-2 border-blue-200 text-center">
            <h2 class="text-lg font-bold text-blue-800 mb-2">ë‚˜ì˜ ë³´ì€ ì§€ìˆ˜ (GR)</h2>
            <div id="grDisplay" class="text-4xl font-black text-blue-600 mb-1">0%</div>
            <div id="statusResult" class="text-sm font-bold text-blue-500">ê³„ì‚° ëŒ€ê¸° ì¤‘...</div>
            <div class="w-full bg-gray-200 rounded-full h-2.5 mt-4">
                <div id="grBar" class="bg-blue-600 h-2.5 rounded-full" style="width: 0%"></div>
            </div>
        </div>
        <p class="text-[10px] text-gray-400 mt-6 text-center">ì›ë¶ˆêµ ì¼ì›ìƒ ì§„ë¦¬ ë° ì‚¬ì€ì‚¬ìš” ê¸°ë°˜</p>
    </div>

    <script>
        const sections = [
            { id: 'cheonji', name: 'ì²œì§€ë³´ì€', color: 'green' },
            { id: 'bumo', name: 'ë¶€ëª¨ë³´ì€(ì¸ì¬ì–‘ì„±)', color: 'blue' },
            { id: 'dongpo', name: 'ë™í¬ë³´ì€', color: 'yellow' },
            { id: 'beopryul', name: 'ë²•ë¥ ë³´ì€', color: 'red' }
        ];

        const sectionsContainer = document.getElementById('sections');
        sections.forEach(s => {
            const div = document.createElement('div');
            div.className = `mb-6 pb-4 border-b border-gray-100`;
            div.innerHTML = `
                <h3 class="font-bold text-${s.color}-600 mb-3">${s.name}</h3>
                <div class="grid grid-cols-1 gap-3">
                    <input type="number" id="${s.id}_val" placeholder="ê¸°ì´ˆ ê°€ì¹˜(ì›)" class="p-2 border rounded w-full text-right" oninput="calculate()">
                    <div class="flex gap-2">
                        <select id="${s.id}_pub" class="text-xs p-1 border rounded w-1/2" onchange="calculate()">
                            <option value="1.0">ìœ„ê°€ì¡± (1.0)</option>
                            <option value="1.5">ìœ„ì‚¬íšŒ (1.5)</option>
                            <option value="2.0" selected>ìœ„ì„¸ê³„ (2.0)</option>
                        </select>
                        <select id="${s.id}_no" class="text-xs p-1 border rounded w-1/2" onchange="calculate()">
                            <option value="1.0">ìƒ ìˆìŒ (1.0)</option>
                            <option value="2.0" selected>ë¬´ìƒë³´ì‹œ (2.0)</option>
                        </select>
                    </div>
                </div>
            `;
            sectionsContainer.appendChild(div);
        });

        function calculate() {
            let totalHyesi = 0;
            const hyesu = parseFloat(document.getElementById('totalHyesu').value) || 1;

            sections.forEach(s => {
                const val = parseFloat(document.getElementById(`${s.id}_val`).value) || 0;
                const pub = parseFloat(document.getElementById(`${s.id}_pub`).value);
                const no = parseFloat(document.getElementById(`${s.id}_no`).value);
                totalHyesi += (val * pub * no);
            });

            const gr = (totalHyesi / hyesu) * 100;
            document.getElementById('grDisplay').innerText = gr.toFixed(1) + '%';
            document.getElementById('grBar').style.width = Math.min(gr, 100) + '%';

            const resultTxt = document.getElementById('statusResult');
            if(gr >= 100) {
                resultTxt.innerText = "ğŸ‰ ì§„ê¸‰(é€²ç´š): ë³µë½ì˜ ìì‚° ì €ì¶• ì¤‘!";
                resultTxt.className = "text-sm font-bold text-green-600";
            } else {
                resultTxt.innerText = "ğŸ’ª ë¶„ë°œ: ë¹šì„ ê°šì•„ê°€ëŠ” ë³´ì€ì˜ ê¸¸";
                resultTxt.className = "text-sm font-bold text-orange-500";
            }
        }
    </script>
</body>
</html>
